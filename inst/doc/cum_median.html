<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

<title>Cumulative median</title>

<script type="text/javascript">
window.onload = function() {
  var imgs = document.getElementsByTagName('img'), i, img;
  for (i = 0; i < imgs.length; i++) {
    img = imgs[i];
    // center an image if it is the only element of its parent
    if (img.parentElement.childElementCount === 1)
      img.parentElement.style.textAlign = 'center';
  }
};
</script>

<!-- Styles for R syntax highlighter -->
<style type="text/css">
   pre .operator,
   pre .paren {
     color: rgb(104, 118, 135)
   }

   pre .literal {
     color: #990073
   }

   pre .number {
     color: #099;
   }

   pre .comment {
     color: #998;
     font-style: italic
   }

   pre .keyword {
     color: #900;
     font-weight: bold
   }

   pre .identifier {
     color: rgb(0, 0, 0);
   }

   pre .string {
     color: #d14;
   }
</style>

<!-- R syntax highlighter -->
<script type="text/javascript">
var hljs=new function(){function m(p){return p.replace(/&/gm,"&amp;").replace(/</gm,"&lt;")}function f(r,q,p){return RegExp(q,"m"+(r.cI?"i":"")+(p?"g":""))}function b(r){for(var p=0;p<r.childNodes.length;p++){var q=r.childNodes[p];if(q.nodeName=="CODE"){return q}if(!(q.nodeType==3&&q.nodeValue.match(/\s+/))){break}}}function h(t,s){var p="";for(var r=0;r<t.childNodes.length;r++){if(t.childNodes[r].nodeType==3){var q=t.childNodes[r].nodeValue;if(s){q=q.replace(/\n/g,"")}p+=q}else{if(t.childNodes[r].nodeName=="BR"){p+="\n"}else{p+=h(t.childNodes[r])}}}if(/MSIE [678]/.test(navigator.userAgent)){p=p.replace(/\r/g,"\n")}return p}function a(s){var r=s.className.split(/\s+/);r=r.concat(s.parentNode.className.split(/\s+/));for(var q=0;q<r.length;q++){var p=r[q].replace(/^language-/,"");if(e[p]){return p}}}function c(q){var p=[];(function(s,t){for(var r=0;r<s.childNodes.length;r++){if(s.childNodes[r].nodeType==3){t+=s.childNodes[r].nodeValue.length}else{if(s.childNodes[r].nodeName=="BR"){t+=1}else{if(s.childNodes[r].nodeType==1){p.push({event:"start",offset:t,node:s.childNodes[r]});t=arguments.callee(s.childNodes[r],t);p.push({event:"stop",offset:t,node:s.childNodes[r]})}}}}return t})(q,0);return p}function k(y,w,x){var q=0;var z="";var s=[];function u(){if(y.length&&w.length){if(y[0].offset!=w[0].offset){return(y[0].offset<w[0].offset)?y:w}else{return w[0].event=="start"?y:w}}else{return y.length?y:w}}function t(D){var A="<"+D.nodeName.toLowerCase();for(var B=0;B<D.attributes.length;B++){var C=D.attributes[B];A+=" "+C.nodeName.toLowerCase();if(C.value!==undefined&&C.value!==false&&C.value!==null){A+='="'+m(C.value)+'"'}}return A+">"}while(y.length||w.length){var v=u().splice(0,1)[0];z+=m(x.substr(q,v.offset-q));q=v.offset;if(v.event=="start"){z+=t(v.node);s.push(v.node)}else{if(v.event=="stop"){var p,r=s.length;do{r--;p=s[r];z+=("</"+p.nodeName.toLowerCase()+">")}while(p!=v.node);s.splice(r,1);while(r<s.length){z+=t(s[r]);r++}}}}return z+m(x.substr(q))}function j(){function q(x,y,v){if(x.compiled){return}var u;var s=[];if(x.k){x.lR=f(y,x.l||hljs.IR,true);for(var w in x.k){if(!x.k.hasOwnProperty(w)){continue}if(x.k[w] instanceof Object){u=x.k[w]}else{u=x.k;w="keyword"}for(var r in u){if(!u.hasOwnProperty(r)){continue}x.k[r]=[w,u[r]];s.push(r)}}}if(!v){if(x.bWK){x.b="\\b("+s.join("|")+")\\s"}x.bR=f(y,x.b?x.b:"\\B|\\b");if(!x.e&&!x.eW){x.e="\\B|\\b"}if(x.e){x.eR=f(y,x.e)}}if(x.i){x.iR=f(y,x.i)}if(x.r===undefined){x.r=1}if(!x.c){x.c=[]}x.compiled=true;for(var t=0;t<x.c.length;t++){if(x.c[t]=="self"){x.c[t]=x}q(x.c[t],y,false)}if(x.starts){q(x.starts,y,false)}}for(var p in e){if(!e.hasOwnProperty(p)){continue}q(e[p].dM,e[p],true)}}function d(B,C){if(!j.called){j();j.called=true}function q(r,M){for(var L=0;L<M.c.length;L++){if((M.c[L].bR.exec(r)||[null])[0]==r){return M.c[L]}}}function v(L,r){if(D[L].e&&D[L].eR.test(r)){return 1}if(D[L].eW){var M=v(L-1,r);return M?M+1:0}return 0}function w(r,L){return L.i&&L.iR.test(r)}function K(N,O){var M=[];for(var L=0;L<N.c.length;L++){M.push(N.c[L].b)}var r=D.length-1;do{if(D[r].e){M.push(D[r].e)}r--}while(D[r+1].eW);if(N.i){M.push(N.i)}return f(O,M.join("|"),true)}function p(M,L){var N=D[D.length-1];if(!N.t){N.t=K(N,E)}N.t.lastIndex=L;var r=N.t.exec(M);return r?[M.substr(L,r.index-L),r[0],false]:[M.substr(L),"",true]}function z(N,r){var L=E.cI?r[0].toLowerCase():r[0];var M=N.k[L];if(M&&M instanceof Array){return M}return false}function F(L,P){L=m(L);if(!P.k){return L}var r="";var O=0;P.lR.lastIndex=0;var M=P.lR.exec(L);while(M){r+=L.substr(O,M.index-O);var N=z(P,M);if(N){x+=N[1];r+='<span class="'+N[0]+'">'+M[0]+"</span>"}else{r+=M[0]}O=P.lR.lastIndex;M=P.lR.exec(L)}return r+L.substr(O,L.length-O)}function J(L,M){if(M.sL&&e[M.sL]){var r=d(M.sL,L);x+=r.keyword_count;return r.value}else{return F(L,M)}}function I(M,r){var L=M.cN?'<span class="'+M.cN+'">':"";if(M.rB){y+=L;M.buffer=""}else{if(M.eB){y+=m(r)+L;M.buffer=""}else{y+=L;M.buffer=r}}D.push(M);A+=M.r}function G(N,M,Q){var R=D[D.length-1];if(Q){y+=J(R.buffer+N,R);return false}var P=q(M,R);if(P){y+=J(R.buffer+N,R);I(P,M);return P.rB}var L=v(D.length-1,M);if(L){var O=R.cN?"</span>":"";if(R.rE){y+=J(R.buffer+N,R)+O}else{if(R.eE){y+=J(R.buffer+N,R)+O+m(M)}else{y+=J(R.buffer+N+M,R)+O}}while(L>1){O=D[D.length-2].cN?"</span>":"";y+=O;L--;D.length--}var r=D[D.length-1];D.length--;D[D.length-1].buffer="";if(r.starts){I(r.starts,"")}return R.rE}if(w(M,R)){throw"Illegal"}}var E=e[B];var D=[E.dM];var A=0;var x=0;var y="";try{var s,u=0;E.dM.buffer="";do{s=p(C,u);var t=G(s[0],s[1],s[2]);u+=s[0].length;if(!t){u+=s[1].length}}while(!s[2]);if(D.length>1){throw"Illegal"}return{r:A,keyword_count:x,value:y}}catch(H){if(H=="Illegal"){return{r:0,keyword_count:0,value:m(C)}}else{throw H}}}function g(t){var p={keyword_count:0,r:0,value:m(t)};var r=p;for(var q in e){if(!e.hasOwnProperty(q)){continue}var s=d(q,t);s.language=q;if(s.keyword_count+s.r>r.keyword_count+r.r){r=s}if(s.keyword_count+s.r>p.keyword_count+p.r){r=p;p=s}}if(r.language){p.second_best=r}return p}function i(r,q,p){if(q){r=r.replace(/^((<[^>]+>|\t)+)/gm,function(t,w,v,u){return w.replace(/\t/g,q)})}if(p){r=r.replace(/\n/g,"<br>")}return r}function n(t,w,r){var x=h(t,r);var v=a(t);var y,s;if(v){y=d(v,x)}else{return}var q=c(t);if(q.length){s=document.createElement("pre");s.innerHTML=y.value;y.value=k(q,c(s),x)}y.value=i(y.value,w,r);var u=t.className;if(!u.match("(\\s|^)(language-)?"+v+"(\\s|$)")){u=u?(u+" "+v):v}if(/MSIE [678]/.test(navigator.userAgent)&&t.tagName=="CODE"&&t.parentNode.tagName=="PRE"){s=t.parentNode;var p=document.createElement("div");p.innerHTML="<pre><code>"+y.value+"</code></pre>";t=p.firstChild.firstChild;p.firstChild.cN=s.cN;s.parentNode.replaceChild(p.firstChild,s)}else{t.innerHTML=y.value}t.className=u;t.result={language:v,kw:y.keyword_count,re:y.r};if(y.second_best){t.second_best={language:y.second_best.language,kw:y.second_best.keyword_count,re:y.second_best.r}}}function o(){if(o.called){return}o.called=true;var r=document.getElementsByTagName("pre");for(var p=0;p<r.length;p++){var q=b(r[p]);if(q){n(q,hljs.tabReplace)}}}function l(){if(window.addEventListener){window.addEventListener("DOMContentLoaded",o,false);window.addEventListener("load",o,false)}else{if(window.attachEvent){window.attachEvent("onload",o)}else{window.onload=o}}}var e={};this.LANGUAGES=e;this.highlight=d;this.highlightAuto=g;this.fixMarkup=i;this.highlightBlock=n;this.initHighlighting=o;this.initHighlightingOnLoad=l;this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="\\b(0[xX][a-fA-F0-9]+|(\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";this.BNR="\\b(0b[01]+)";this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|\\.|-|-=|/|/=|:|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";this.ER="(?![\\s\\S])";this.BE={b:"\\\\.",r:0};this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE],r:0};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE],r:0};this.CLCM={cN:"comment",b:"//",e:"$"};this.CBLCLM={cN:"comment",b:"/\\*",e:"\\*/"};this.HCM={cN:"comment",b:"#",e:"$"};this.NM={cN:"number",b:this.NR,r:0};this.CNM={cN:"number",b:this.CNR,r:0};this.BNM={cN:"number",b:this.BNR,r:0};this.inherit=function(r,s){var p={};for(var q in r){p[q]=r[q]}if(s){for(var q in s){p[q]=s[q]}}return p}}();hljs.LANGUAGES.cpp=function(){var a={keyword:{"false":1,"int":1,"float":1,"while":1,"private":1,"char":1,"catch":1,"export":1,virtual:1,operator:2,sizeof:2,dynamic_cast:2,typedef:2,const_cast:2,"const":1,struct:1,"for":1,static_cast:2,union:1,namespace:1,unsigned:1,"long":1,"throw":1,"volatile":2,"static":1,"protected":1,bool:1,template:1,mutable:1,"if":1,"public":1,friend:2,"do":1,"return":1,"goto":1,auto:1,"void":2,"enum":1,"else":1,"break":1,"new":1,extern:1,using:1,"true":1,"class":1,asm:1,"case":1,typeid:1,"short":1,reinterpret_cast:2,"default":1,"double":1,register:1,explicit:1,signed:1,typename:1,"try":1,"this":1,"switch":1,"continue":1,wchar_t:1,inline:1,"delete":1,alignof:1,char16_t:1,char32_t:1,constexpr:1,decltype:1,noexcept:1,nullptr:1,static_assert:1,thread_local:1,restrict:1,_Bool:1,complex:1},built_in:{std:1,string:1,cin:1,cout:1,cerr:1,clog:1,stringstream:1,istringstream:1,ostringstream:1,auto_ptr:1,deque:1,list:1,queue:1,stack:1,vector:1,map:1,set:1,bitset:1,multiset:1,multimap:1,unordered_set:1,unordered_map:1,unordered_multiset:1,unordered_multimap:1,array:1,shared_ptr:1}};return{dM:{k:a,i:"</",c:[hljs.CLCM,hljs.CBLCLM,hljs.QSM,{cN:"string",b:"'\\\\?.",e:"'",i:"."},{cN:"number",b:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},hljs.CNM,{cN:"preprocessor",b:"#",e:"$"},{cN:"stl_container",b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:a,r:10,c:["self"]}]}}}();hljs.LANGUAGES.r={dM:{c:[hljs.HCM,{cN:"number",b:"\\b0[xX][0-9a-fA-F]+[Li]?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+(?:[eE][+\\-]?\\d*)?L\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+\\.(?!\\d)(?:i\\b)?",e:hljs.IMMEDIATE_RE,r:1},{cN:"number",b:"\\b\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"keyword",b:"(?:tryCatch|library|setGeneric|setGroupGeneric)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\.",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\d+(?![\\w.])",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\b(?:function)",e:hljs.IMMEDIATE_RE,r:2},{cN:"keyword",b:"(?:if|in|break|next|repeat|else|for|return|switch|while|try|stop|warning|require|attach|detach|source|setMethod|setClass)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"literal",b:"(?:NA|NA_integer_|NA_real_|NA_character_|NA_complex_)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"literal",b:"(?:NULL|TRUE|FALSE|T|F|Inf|NaN)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"identifier",b:"[a-zA-Z.][a-zA-Z0-9._]*\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"<\\-(?!\\s*\\d)",e:hljs.IMMEDIATE_RE,r:2},{cN:"operator",b:"\\->|<\\-",e:hljs.IMMEDIATE_RE,r:1},{cN:"operator",b:"%%|~",e:hljs.IMMEDIATE_RE},{cN:"operator",b:">=|<=|==|!=|\\|\\||&&|=|\\+|\\-|\\*|/|\\^|>|<|!|&|\\||\\$|:",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"%",e:"%",i:"\\n",r:1},{cN:"identifier",b:"`",e:"`",r:0},{cN:"string",b:'"',e:'"',c:[hljs.BE],r:0},{cN:"string",b:"'",e:"'",c:[hljs.BE],r:0},{cN:"paren",b:"[[({\\])}]",e:hljs.IMMEDIATE_RE,r:0}]}};
hljs.initHighlightingOnLoad();
</script>



<style type="text/css">
body, td {
   font-family: sans-serif;
   background-color: white;
   font-size: 13px;
}

body {
  max-width: 800px;
  margin: auto;
  padding: 1em;
  line-height: 20px;
}

tt, code, pre {
   font-family: 'DejaVu Sans Mono', 'Droid Sans Mono', 'Lucida Console', Consolas, Monaco, monospace;
}

h1 {
   font-size:2.2em;
}

h2 {
   font-size:1.8em;
}

h3 {
   font-size:1.4em;
}

h4 {
   font-size:1.0em;
}

h5 {
   font-size:0.9em;
}

h6 {
   font-size:0.8em;
}

a:visited {
   color: rgb(50%, 0%, 50%);
}

pre, img {
  max-width: 100%;
}
pre {
  overflow-x: auto;
}
pre code {
   display: block; padding: 0.5em;
}

code {
  font-size: 92%;
  border: 1px solid #ccc;
}

code[class] {
  background-color: #F8F8F8;
}

table, td, th {
  border: none;
}

blockquote {
   color:#666666;
   margin:0;
   padding-left: 1em;
   border-left: 0.5em #EEE solid;
}

hr {
   height: 0px;
   border-bottom: none;
   border-top-width: thin;
   border-top-style: dotted;
   border-top-color: #999999;
}

@media print {
   * {
      background: transparent !important;
      color: black !important;
      filter:none !important;
      -ms-filter: none !important;
   }

   body {
      font-size:12pt;
      max-width:100%;
   }

   a, a:visited {
      text-decoration: underline;
   }

   hr {
      visibility: hidden;
      page-break-before: always;
   }

   pre, blockquote {
      padding-right: 1em;
      page-break-inside: avoid;
   }

   tr, img {
      page-break-inside: avoid;
   }

   img {
      max-width: 100% !important;
   }

   @page :left {
      margin: 15mm 20mm 15mm 10mm;
   }

   @page :right {
      margin: 15mm 10mm 15mm 20mm;
   }

   p, h2, h3 {
      orphans: 3; widows: 3;
   }

   h2, h3 {
      page-break-after: avoid;
   }
}
</style>



</head>

<body>
<!--
%\VignetteEngine{knitr::knitr}
%\VignetteIndexEntry{Cumulative median}
-->

<h1>Cumulative median</h1>

<p>In this vignette we compare two different implementations of the
cumulative median. The cumstats package provides a naive method, which
uses the standard median function in a for loop. Each call to the
standard median function is log-linear, so the total expected
complexity is log-quadratic. The binsegRcpp package provides a
different implementation that uses a log-linear algorithm, previously
described in <a href="https://proceedings.neurips.cc/paper/2017/hash/2288f691b58edecadcc9a8691762b4fd-Abstract.html">the 2017 NeurIPS research paper Maximum Margin Interval
Trees by Alexandre Drouin, Toby Hocking, Francois
Laviolette</a>.</p>

<pre><code class="r">atime.list &lt;- atime::atime(
  N=2^seq(1, 20),
  setup={
    set.seed(1)
    data.vec &lt;- rnorm(N)
  },
  &quot;cumstats::cummedian&quot;={
    cumstats::cummedian(data.vec)
  },
  &quot;binsegRcpp::cum_median&quot;={
    binsegRcpp::cum_median(data.vec)
  },
  times=5)
plot(atime.list)
</code></pre>

<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfgAAAH4CAMAAACR9g9NAAAAllBMVEUAAAAAADoAAGYAOmYAOpAAZpAAZrYAgP86AAA6ADo6AGY6OpA6kJA6kNtmAABmADpmAGZmOgBmOjpmOpBmZjpmZmZmZrZmtv+QOgCQOjqQOmaQZgCQkDqQkGaQkLaQtpCQ2/+2ZgC2Zjq2Zma2tma2/7a2///bkDrbtmbb25Db/7bb////AP//tmb/25D//7b//9v///9FszMrAAAACXBIWXMAAAsSAAALEgHS3X78AAARNUlEQVR4nO2dDXviNhaFnTSls81mJtvubjL71bDdhrYpCfz/P7eWbSVgbFkCHelK97zPzJAhHML1mysLZEyzJyppcj8AkgeKVwrFK4XilULxSqF4pVC8UiheKRSvFIpXCsUrheKVQvFKoXilULxSKF4pFK8UilcKxSuF4pVC8UqheKVQvFIoXikUrxSKVwrFK4XilYIXH/ITgh4N7I5VQPFKoXilULxSKF4pFK+UM7dIUyFxN6x0zhUf91FIoMKSXFC8pcKSXFC8pcKSXFC8pcKSXFC8pcKSXFC8pcKSXFC8pcKSXFC8pcKSXFC8pcKSXFC8pcKSXFC8pcKSXFC8pcKSXFC8pcKSXFC8pcKSXFC8pcKSXFC8pcKSXFC8pcKSXFC8pcKSXFC8pcKSXFC8pcKSXFC8pcKSXFC8pcKSXFC8pcKSXFC8pcKSXKgW/93hf+ooyRuKt9RRkjeaxR95r6MkfyjeUkVJ/lC8pYqS/FEs/th7FSUFQPGWGkoKgOItNZQUgF7xI+81lBQCxVsqKCkEteLH3isoKQiKt5RfUhAUbym/pCC0ij/xXn5JYVC8pfiSwvAqd/fYNDcvwTHJULzPjbar/X79EByLwh+Qez31TvEzbAbxqU8DmU68rvNb+hZqmv6M2MVgvLPjPcpdN2agP/ZeuvgJ7xQ/we7xYXQNxZeOV7lrs/O7C45FIN1IT/HIWDDpGp7ikbFgKB4FxVsoHhgLJaF3ikfGQqF4GBRvoXhgLJCU3ikeGQuE4nHoEz/jneKRsTCSNjzFI2NhUDwQdeLnvFM8MhZE2oaneGQsCIpHok38rHeKR8ZCSNzwFI+MhUDxUJSJn/dO8chYCBQPRaz41CM9xSNjAaRueIpHxgKgeCxSxScf6SkeGfMnecNTPDLmD8WDESo+vXeKR8a8oXg0FG+heGDMlwzeKR4Z84Xi4VC8heKBMU9yeKd4ZMwTisdD8RaKB8Y8QYhf8k7xyJgfWRqe4pExPyg+AVrEL3qneGTMizwNT/HImBcUnwIl4pe9Uzwy5kOmhqd4ZMwHik+COPG5vFM8MuYBxadBmvhs3ikeGVuG4hMhTHz691G8Q/HA2CL5Gp7ikbElMjY8xSNjS1B8MkSJz+md4pGxBSg+HZLEJ/zIqQkoHhhzk7XhKR4Zc5K34SkeGXNC8SmRIz6zd4pHxlxQfFLEiM/tneKRMQcUnxYp4kHeKX6OysX7e6d4ZGyW/A1P8cjYLBSfGhniBXineGRsDopPDsVbKB4Ym0GCd4pHxmag+PTULD7IO8UjY9OIaHiKR8amofgMVCw+zDvFI2OTyGh4ikfGJqH4HNQrPtA7xSNjUwhpeIpHxqag+CxUKz7UO8UjYxNIaXiKR8YmoPg81Co+2DvFI2OniGl4ikfGThHT8BSPjJ1C8ZnILF7OSE/xyNgJchqe4pGxEyg+FxRvoXhgbIwg7xSPjI2h+GzUKP4s7xSPjI2Q1PDqxW8bw0No7CwoPh+jcrfNylzsHhfUSxZ/nnfd4t9+fLFf/vzsHzsTUQ2vWzw6doyohlcvfnPzskm0j6f4jIzLffvy1P55/d450MfZSrJGevXi75/bni9Y/LnetYvfb5qrp+14qF+PB3+KLx2vcrcrMxIEx9wI807x07yLb3ou/8nixMcqrAxGz+M/D+Vfj/bx6+bOETsLceIjPooCOCl3bQxvVgdX9C/mbY7MX76VpHnXLr4f0kd79O0dxdfGuNzdY9fxNy9H17az+tXRFULFX+Bdu3izPjO27BMLRVzDqxcPjX1A8ZnJJF6ed/Xit5NP5xZjgVB8bk5m9Z+XFuYmY6GIm9pR/P1Cr0/HAhHY8NrF9y/ghMfCoPjsnA71CfbxEr1rF4+NDVB8fnKIF+ldvfjulbvRK7YesRAoXgB+r9UvxoKgeAF4rc4tx0KQ6V27+AQdT/ESSL+PF+pdvXhozEDxIqB4i3bx5pj6zdVTaMwbqd61i3/7YpwD30lD8TI4ndWbZdktbFYv1rt28f0qzdIaDcUXT+rJHcULIbF4ud7Vi989Nje/f0HN6ileChMv2b7evqAmd4K9axf/dv/cikct0lC8GKY7HrRII+zkJ8coFw9dpJHc8OrFI2MUL4eU4kV7Vy8eeJ47ihdEwvPciZ7aUTzuPHeyG167+Onz3C3HPKB4SaSb3Akf6SkeFRPe8BQPiklveIoHxaQ3PMVjYuIbXr140DlwKF4Yqc6BI36kXyxp3W2YhVc4Xj/5tE04u8eHxddWwkh0Dhz5De8pfoHezuKqdjD9wc8xSXQOHPkNvyz+b2YJozX7evvPbjFj27f222d78c0Pw2vd5t/2/1dPb/f/av/dDxcma79jvmj/7r7+u2nu2nt63+qH1xzc9V+6jjcDSvsYhgcQtVzMOXAKaPhl8d0r2ebPpzvzxgMzNpqzfLedMlxsr57eO9606Pbm9883L9vr57f+or+f/ju/DeIfV63N1cEe5PCag7tujHjzbpePBzDaFh6ElHvmVhpRhfgH83fo2sHCvn/rUfs7YH4Ndl+f+n18K6U3aWZM7bXDRX8/H4NC1/FP3Xfe3g9vPbjm8K7f9/Hm2Lg+iy03TqyAkX6xpP8+HYs3464Zxs0Q2bb67Usnvr1+a955aP4/vCFt/TBc9PfTf8dL/HDXxvG6F782gzFG/AYw1JfQ8D4d3/fdwXYfRvx9PykexO831/YGxqfp+P6iv5+Ajj+46+4nm5Hj+AHEK7f9edvV0SdUeMXclNDwy+JXw0YftrvZy5q/67v3i6E7zW7a7Mlfv//l86r75egv+vsZvtOabn9BnOIP77p5/5X70xNGfLdPiXt4dREN7zOr/5iZd1Ov91m9Gdvbi2+/2ll9O/vqZ/Vf/trtDvqLw1m9GVn/fL8gfrjr3aOd1bchO7+PLb79mXbECok5qUP8Mqdb7WACKI2Tcs0g1jRLT+ZDtlIZ3i8Ub45KPz2dRID4/vnAxH2ASDCrVyG+OIoVH9u7bvFv979Ef+WukIa/UPzH/v2yaVf81ZgZ8B1P8SHEX42ZAS6+FO+LJc2trXRrNd1ySreE0n3Vr9+4F2VSrcZ4lTv72bLumItaxM+trQxrNQdLKO/XuYPnrsbM8IcHznJPPlv2nK10+IC8bxlEcvFzr7QOT9WOllCOnr7NBVOtxniWG/vs1cV4XxQ/t7bSr9WMllA+fTwhnwumWo3xLDf22avrEe9YW9l2S/UHSyj7g1MF+nQ8cjXGt9y4ny1bjnefffzU2sqwVnO0hGLXb5zBVKsx55V7aawe8bNrK/1aze7x+rlfQjFfrU9m9afBVKsxZ5Z7WQzkPYv4ypga6uOd566ghtcuPup57kpqeO3io57nrqSG1y4+5nnuimp47eJjnueO4gUDnNWX5V29+HjvlqV4yUwcXn1ObAKUd4qPAu7dsoU1vHbx+02kd8uW1vAUH2kfX1rDaxcfax9fXMOrFx9pH0/xwgHt48vzrl18pDNiULx0MK/cwbxTfCxGh1f//f3Ln509n0s8zrtu8fttf7jd7nHhOH73Viqx4ZWLt6/VX3a++hIbXr34CLEiG57iL49RfAGMyh3Oy3DR58eX6V23ePsm3bCDLY/fjUfxRTA+McLz0aVnbH/4TsxCvesWf17Hd7y/DZfii2BUrucrtjNbybjHeaf4mMSe1f9RasNTPDJ2ERQfk3LEg71TPDJ2CRQfFfjJj6JB8VEZldufCSU4lgC0d+XiI76hIjIUH5dS9vFw7xSPjJ0PxUdm5mDLpdkdxZfOSbnDmS0XXq1PvZXw3rWLt2e2/MW9PkfxpTNxKpS9ObPlb7fs+Ko5LXdtzmx58qHSozfYJN5KCbxT/CTbhuLrwq/c19tfrfjhNV3cI5oghfcshWXE66xX7Yxvm7Pj04hP8UPkMDe5+zC/blbdyRLuXDEsFB+fuadz4ydzOTs+iXft4uc+qIDiK8NrH+8RA5LGu3rx0NhZUDwCireoFi/x0KtE3nWLR8fOgeIhiBefyjvFI2NnQPEYKN5C8cBYOMm8UzwyFg7FgxAuPp13ikfGgqF4FLLFJ/RO8chYKBQPg+ItFA+MBZLSO8UjY4FQPA7J4pN6p3hkLAyKByJYfFrvFI+MBUHxSCjeQvHAWAiJvVM8MhYCxUMRKz61d4pHxgKgeCwUb6F4YMyf5N4pHhnzh+LBCBWf3jvFI2PeUDwameIzeKd4ZMwXiodD8RaKB8Y8yeGd4pExTygej0TxWbxTPDLmB8UnQKD4PN4pHhnzguJTIE98Ju8Uj4z5QPFJECc+l3eKR8Y8oPg0SBOfzTvFI2PLUHwihInP553ikbElMnqneGRsCYpPhijxOb1TPDK2AMWnQ5L4rN4pHhlzQ/EJESQ+r3eKR8acUHxK5IjP7J3ikTEHub1TPDLmgOLTIkV8du8Uj4zNQ/GJESI+v3eKR8ZmofjUyBAvwDvFI2MzSPBO8cjYDBSfHgniRXineGRsGorPgADxMrxTPDI2hRDvFI+MTUHxWcguXop3ikfGJqD4POQWL8Y7xSNjJ8jxTvHI2AkUn4u84gV5p3hkbAzFZyOreEneKR4ZG0Hx+cgpXpR3ikfGjpDlneKRsSMoPif5xAvzTvHI2CEUn5Vs4qV5p3hk7ANx3ikeGfuA4jOTSbw87xSPjFkEeqd4ZGxAoneKR8YGKD4/OcSL9E7xyFiHTO8Uj4wZhHqneGTMQPEiSC5eqneKR8YEe6d4ZEywd4pHxiheDGnFC/ZO8cCYZO8UP8W6aa6ewmMjRHun+Al2X59G11B86XiV+/bDp2ZlAz1n/CjZ3i8orEi8Ct1eP+83D8GxY4R7Z8ePWffNvr0Li42R7p3iJzDSL+x48d4pfop2Vn/U8MFbSb53ikfECvBO8fFj35XgneKjx4rQTvHRY4V4p/jIsVK8U3zcWDHeKT5qrBzvFH9Z7Ltjzn1YGaD4C2JFmR5B8efGymrwEyj+rFjh1vcUf1aseOt7ij8jVoN2iofGJFNhSS4o3lJhSS4o3lJhSS4o3lJhSS4o3lJhSS4o3lJhSS4o3lJhSS4o3lJhSS4o3lJhSS4o3lJhSS4o3lJhSS4o3lJhSS4o3lJhSS4o3lJhSS4o3lJhSS4o3lJhSS4o3lJhSS4o3lJhSS4o3lJhSS4o3lJhSS4o3lJhSS4o3lJhSS4o3lJhSS4o3lJhSS7OFV8hcTesdPDlhvyEoEcDu2MVULxSKF4pFK8UilcKxSuFW0QpFK8UilcKxSuF4pVC8UqheKXAxb/dP3vecvfYNDcvvve7bpqH5VtZNnfLt9EFWvy2ufYVv121On1ltjf2/5VqHwXFjwCL3/1n9w9vPfvxh5y58Rf/evsrxY+AD/VB4rer5dtY1t5d3P6GbCl+hCjx6wDve/8d98YcX0PzxwgSv3sMGOe7D7/0l8mOHyNI/DqoMdtbB4wPFD+Gz+OVQvFKoXilULxSKF4pFK8UilcKxSuF4pVC8UqheKVQvFLEiH/9/nQxp7vu7XN/QNbm7vXTQ3/l6633EVpkBsniu8O2zGLtZmWOonl5/WQO4zI35CF0FyNKfNvc132Pf/PD03599ZO57v65+976ob3432q4of/hdmQaUeLXd/ttO6ybi6un4TozrL99eRr8d/qfAw7KJDNIEm/kDo53X61485vQXmn8m5v8+NKJ51h/KZLEG6WtceP4Q/zQ8cZ/v3en+ChIEj/Z8cMYP3R8+42fKD4GksRP7uN3j3dmVm/nePt+as99/KWIEv8xq//2vePt83g7rdtvrjmrj4AY8cecPqs/etGGI/3FCBRv3jzZjfTHHMjmK3eXI1A8SQHFK4XilULxSqF4pVC8UiheKRSvFIpXCsUrheKVQvFKoXilULxSKF4pFK+U/wNI9MOaFFBofgAAAABJRU5ErkJggg==" alt="plot of chunk unnamed-chunk-1"/></p>

<pre><code class="r">(best.list &lt;- atime::references_best(atime.list))
#&gt; 46 measurements with 268 references, best fit complexity: cumstats::cummedian (N^2 kilobytes, N log N seconds), binsegRcpp::cum_median (N kilobytes, N log N seconds)
(ref.dt &lt;- best.list$ref[each.sign.rank==1])
#&gt;          unit              expr.name fun.latex fun.name     N   empirical
#&gt;        &lt;char&gt;                 &lt;char&gt;    &lt;char&gt;   &lt;char&gt; &lt;num&gt;       &lt;num&gt;
#&gt;  1: kilobytes    cumstats::cummedian N \\log N  N log N     4   0.0000000
#&gt;  2: kilobytes    cumstats::cummedian N \\log N  N log N     8   0.0000000
#&gt;  3: kilobytes    cumstats::cummedian N \\log N  N log N    16   0.0000000
#&gt;  4: kilobytes    cumstats::cummedian N \\log N  N log N    32   8.5156250
#&gt;  5: kilobytes    cumstats::cummedian N \\log N  N log N    64  59.9843750
#&gt;  6: kilobytes    cumstats::cummedian N \\log N  N log N   128 246.2343750
#&gt;  7: kilobytes    cumstats::cummedian N \\log N  N log N   256 954.7343750
#&gt;  8: kilobytes    cumstats::cummedian       N^2      N^2    16   0.0000000
#&gt;  9: kilobytes    cumstats::cummedian       N^2      N^2    32   8.5156250
#&gt; 10: kilobytes    cumstats::cummedian       N^2      N^2    64  59.9843750
#&gt; 11: kilobytes    cumstats::cummedian       N^2      N^2   128 246.2343750
#&gt; 12: kilobytes    cumstats::cummedian       N^2      N^2   256 954.7343750
#&gt; 13: kilobytes binsegRcpp::cum_median  \\sqrt N   sqrt N     2   7.9531250
#&gt; 14: kilobytes binsegRcpp::cum_median  \\sqrt N   sqrt N     4   2.4921875
#&gt; 15: kilobytes binsegRcpp::cum_median  \\sqrt N   sqrt N     8   2.4921875
#&gt; 16: kilobytes binsegRcpp::cum_median  \\sqrt N   sqrt N    16   2.4921875
#&gt; 17: kilobytes binsegRcpp::cum_median  \\sqrt N   sqrt N    32   3.0859375
#&gt; 18: kilobytes binsegRcpp::cum_median  \\sqrt N   sqrt N    64   3.5859375
#&gt; 19: kilobytes binsegRcpp::cum_median  \\sqrt N   sqrt N   128   4.5859375
#&gt; 20: kilobytes binsegRcpp::cum_median  \\sqrt N   sqrt N   256   6.5859375
#&gt; 21: kilobytes binsegRcpp::cum_median  \\sqrt N   sqrt N   512  10.5859375
#&gt; 22: kilobytes binsegRcpp::cum_median  \\sqrt N   sqrt N  1024  18.5859375
#&gt; 23: kilobytes binsegRcpp::cum_median  \\sqrt N   sqrt N  2048  34.5859375
#&gt; 24: kilobytes binsegRcpp::cum_median  \\sqrt N   sqrt N  4096  66.5859375
#&gt; 25: kilobytes binsegRcpp::cum_median  \\sqrt N   sqrt N  8192 130.5859375
#&gt; 26: kilobytes binsegRcpp::cum_median  \\sqrt N   sqrt N 16384 258.5859375
#&gt; 27: kilobytes binsegRcpp::cum_median  \\sqrt N   sqrt N 32768 514.5859375
#&gt; 28: kilobytes binsegRcpp::cum_median         N        N   256   6.5859375
#&gt; 29: kilobytes binsegRcpp::cum_median         N        N   512  10.5859375
#&gt; 30: kilobytes binsegRcpp::cum_median         N        N  1024  18.5859375
#&gt; 31: kilobytes binsegRcpp::cum_median         N        N  2048  34.5859375
#&gt; 32: kilobytes binsegRcpp::cum_median         N        N  4096  66.5859375
#&gt; 33: kilobytes binsegRcpp::cum_median         N        N  8192 130.5859375
#&gt; 34: kilobytes binsegRcpp::cum_median         N        N 16384 258.5859375
#&gt; 35: kilobytes binsegRcpp::cum_median         N        N 32768 514.5859375
#&gt; 36:   seconds    cumstats::cummedian N \\log N  N log N     2   0.0001477
#&gt; 37:   seconds    cumstats::cummedian N \\log N  N log N     4   0.0001353
#&gt; 38:   seconds    cumstats::cummedian N \\log N  N log N     8   0.0002389
#&gt; 39:   seconds    cumstats::cummedian N \\log N  N log N    16   0.0004561
#&gt; 40:   seconds    cumstats::cummedian N \\log N  N log N    32   0.0009442
#&gt; 41:   seconds    cumstats::cummedian N \\log N  N log N    64   0.0022225
#&gt; 42:   seconds    cumstats::cummedian N \\log N  N log N   128   0.0039626
#&gt; 43:   seconds    cumstats::cummedian N \\log N  N log N   256   0.0102345
#&gt; 44:   seconds    cumstats::cummedian       N^2      N^2     8   0.0002389
#&gt; 45:   seconds    cumstats::cummedian       N^2      N^2    16   0.0004561
#&gt; 46:   seconds    cumstats::cummedian       N^2      N^2    32   0.0009442
#&gt; 47:   seconds    cumstats::cummedian       N^2      N^2    64   0.0022225
#&gt; 48:   seconds    cumstats::cummedian       N^2      N^2   128   0.0039626
#&gt; 49:   seconds    cumstats::cummedian       N^2      N^2   256   0.0102345
#&gt; 50:   seconds binsegRcpp::cum_median N \\log N  N log N    64   0.0000237
#&gt; 51:   seconds binsegRcpp::cum_median N \\log N  N log N   128   0.0000392
#&gt; 52:   seconds binsegRcpp::cum_median N \\log N  N log N   256   0.0000782
#&gt; 53:   seconds binsegRcpp::cum_median N \\log N  N log N   512   0.0001574
#&gt; 54:   seconds binsegRcpp::cum_median N \\log N  N log N  1024   0.0003271
#&gt; 55:   seconds binsegRcpp::cum_median N \\log N  N log N  2048   0.0006553
#&gt; 56:   seconds binsegRcpp::cum_median N \\log N  N log N  4096   0.0013828
#&gt; 57:   seconds binsegRcpp::cum_median N \\log N  N log N  8192   0.0029953
#&gt; 58:   seconds binsegRcpp::cum_median N \\log N  N log N 16384   0.0065230
#&gt; 59:   seconds binsegRcpp::cum_median N \\log N  N log N 32768   0.0145061
#&gt; 60:   seconds binsegRcpp::cum_median       N^2      N^2  1024   0.0003271
#&gt; 61:   seconds binsegRcpp::cum_median       N^2      N^2  2048   0.0006553
#&gt; 62:   seconds binsegRcpp::cum_median       N^2      N^2  4096   0.0013828
#&gt; 63:   seconds binsegRcpp::cum_median       N^2      N^2  8192   0.0029953
#&gt; 64:   seconds binsegRcpp::cum_median       N^2      N^2 16384   0.0065230
#&gt; 65:   seconds binsegRcpp::cum_median       N^2      N^2 32768   0.0145061
#&gt;          unit              expr.name fun.latex fun.name     N   empirical
#&gt;        reference  rank   i.N i.empirical  i.reference i.rank         dist  sign
#&gt;            &lt;num&gt; &lt;num&gt; &lt;num&gt;       &lt;num&gt;        &lt;num&gt;  &lt;num&gt;        &lt;num&gt; &lt;num&gt;
#&gt;  1: 3.729431e+00     7   128 246.2343750 4.176963e+02      2 -0.229511935    -1
#&gt;  2: 1.118829e+01     6   128 246.2343750 4.176963e+02      2 -0.229511935    -1
#&gt;  3: 2.983545e+01     5   128 246.2343750 4.176963e+02      2 -0.229511935    -1
#&gt;  4: 7.458862e+01     4   128 246.2343750 4.176963e+02      2 -0.229511935    -1
#&gt;  5: 1.790127e+02     3   128 246.2343750 4.176963e+02      2 -0.229511935    -1
#&gt;  6: 4.176963e+02     2   128 246.2343750 4.176963e+02      2 -0.229511935    -1
#&gt;  7: 9.547344e+02     1   128 246.2343750 4.176963e+02      2 -0.229511935    -1
#&gt;  8: 3.729431e+00     5   128 246.2343750 2.386836e+02      2  0.013526113     1
#&gt;  9: 1.491772e+01     4   128 246.2343750 2.386836e+02      2  0.013526113     1
#&gt; 10: 5.967090e+01     3   128 246.2343750 2.386836e+02      2  0.013526113     1
#&gt; 11: 2.386836e+02     2   128 246.2343750 2.386836e+02      2  0.013526113     1
#&gt; 12: 9.547344e+02     1   128 246.2343750 2.386836e+02      2  0.013526113     1
#&gt; 13: 4.020203e+00    15 16384 258.5859375 3.638672e+02      2 -0.148338013    -1
#&gt; 14: 5.685425e+00    14 16384 258.5859375 3.638672e+02      2 -0.148338013    -1
#&gt; 15: 8.040405e+00    13 16384 258.5859375 3.638672e+02      2 -0.148338013    -1
#&gt; 16: 1.137085e+01    12 16384 258.5859375 3.638672e+02      2 -0.148338013    -1
#&gt; 17: 1.608081e+01    11 16384 258.5859375 3.638672e+02      2 -0.148338013    -1
#&gt; 18: 2.274170e+01    10 16384 258.5859375 3.638672e+02      2 -0.148338013    -1
#&gt; 19: 3.216162e+01     9 16384 258.5859375 3.638672e+02      2 -0.148338013    -1
#&gt; 20: 4.548340e+01     8 16384 258.5859375 3.638672e+02      2 -0.148338013    -1
#&gt; 21: 6.432324e+01     7 16384 258.5859375 3.638672e+02      2 -0.148338013    -1
#&gt; 22: 9.096680e+01     6 16384 258.5859375 3.638672e+02      2 -0.148338013    -1
#&gt; 23: 1.286465e+02     5 16384 258.5859375 3.638672e+02      2 -0.148338013    -1
#&gt; 24: 1.819336e+02     4 16384 258.5859375 3.638672e+02      2 -0.148338013    -1
#&gt; 25: 2.572930e+02     3 16384 258.5859375 3.638672e+02      2 -0.148338013    -1
#&gt; 26: 3.638672e+02     2 16384 258.5859375 3.638672e+02      2 -0.148338013    -1
#&gt; 27: 5.145859e+02     1 16384 258.5859375 3.638672e+02      2 -0.148338013    -1
#&gt; 28: 4.020203e+00     8 16384 258.5859375 2.572930e+02      2  0.002176985     1
#&gt; 29: 8.040405e+00     7 16384 258.5859375 2.572930e+02      2  0.002176985     1
#&gt; 30: 1.608081e+01     6 16384 258.5859375 2.572930e+02      2  0.002176985     1
#&gt; 31: 3.216162e+01     5 16384 258.5859375 2.572930e+02      2  0.002176985     1
#&gt; 32: 6.432324e+01     4 16384 258.5859375 2.572930e+02      2  0.002176985     1
#&gt; 33: 1.286465e+02     3 16384 258.5859375 2.572930e+02      2  0.002176985     1
#&gt; 34: 2.572930e+02     2 16384 258.5859375 2.572930e+02      2  0.002176985     1
#&gt; 35: 5.145859e+02     1 16384 258.5859375 2.572930e+02      2  0.002176985     1
#&gt; 36: 9.994629e-06     8   128   0.0039626 4.477594e-03      2 -0.053064452    -1
#&gt; 37: 3.997852e-05     7   128   0.0039626 4.477594e-03      2 -0.053064452    -1
#&gt; 38: 1.199355e-04     6   128   0.0039626 4.477594e-03      2 -0.053064452    -1
#&gt; 39: 3.198281e-04     5   128   0.0039626 4.477594e-03      2 -0.053064452    -1
#&gt; 40: 7.995703e-04     4   128   0.0039626 4.477594e-03      2 -0.053064452    -1
#&gt; 41: 1.918969e-03     3   128   0.0039626 4.477594e-03      2 -0.053064452    -1
#&gt; 42: 4.477594e-03     2   128   0.0039626 4.477594e-03      2 -0.053064452    -1
#&gt; 43: 1.023450e-02     1   128   0.0039626 4.477594e-03      2 -0.053064452    -1
#&gt; 44: 9.994629e-06     6   128   0.0039626 2.558625e-03      2  0.189973596     1
#&gt; 45: 3.997852e-05     5   128   0.0039626 2.558625e-03      2  0.189973596     1
#&gt; 46: 1.599141e-04     4   128   0.0039626 2.558625e-03      2  0.189973596     1
#&gt; 47: 6.396563e-04     3   128   0.0039626 2.558625e-03      2  0.189973596     1
#&gt; 48: 2.558625e-03     2   128   0.0039626 2.558625e-03      2  0.189973596     1
#&gt; 49: 1.023450e-02     1   128   0.0039626 2.558625e-03      2  0.189973596     1
#&gt; 50: 1.133289e-05    10 16384   0.0065230 6.769513e-03      2 -0.016110069    -1
#&gt; 51: 2.644341e-05     9 16384   0.0065230 6.769513e-03      2 -0.016110069    -1
#&gt; 52: 6.044208e-05     8 16384   0.0065230 6.769513e-03      2 -0.016110069    -1
#&gt; 53: 1.359947e-04     7 16384   0.0065230 6.769513e-03      2 -0.016110069    -1
#&gt; 54: 3.022104e-04     6 16384   0.0065230 6.769513e-03      2 -0.016110069    -1
#&gt; 55: 6.648629e-04     5 16384   0.0065230 6.769513e-03      2 -0.016110069    -1
#&gt; 56: 1.450610e-03     4 16384   0.0065230 6.769513e-03      2 -0.016110069    -1
#&gt; 57: 3.142988e-03     3 16384   0.0065230 6.769513e-03      2 -0.016110069    -1
#&gt; 58: 6.769513e-03     2 16384   0.0065230 6.769513e-03      2 -0.016110069    -1
#&gt; 59: 1.450610e-02     1 16384   0.0065230 6.769513e-03      2 -0.016110069    -1
#&gt; 60: 1.416611e-05     6 16384   0.0065230 3.626525e-03      2  0.254956703     1
#&gt; 61: 5.666445e-05     5 16384   0.0065230 3.626525e-03      2  0.254956703     1
#&gt; 62: 2.266578e-04     4 16384   0.0065230 3.626525e-03      2  0.254956703     1
#&gt; 63: 9.066312e-04     3 16384   0.0065230 3.626525e-03      2  0.254956703     1
#&gt; 64: 3.626525e-03     2 16384   0.0065230 3.626525e-03      2  0.254956703     1
#&gt; 65: 1.450610e-02     1 16384   0.0065230 3.626525e-03      2  0.254956703     1
#&gt;        reference  rank   i.N i.empirical  i.reference i.rank         dist  sign
#&gt;     overall.rank each.sign.rank
#&gt;            &lt;num&gt;          &lt;num&gt;
#&gt;  1:            3              1
#&gt;  2:            3              1
#&gt;  3:            3              1
#&gt;  4:            3              1
#&gt;  5:            3              1
#&gt;  6:            3              1
#&gt;  7:            3              1
#&gt;  8:            1              1
#&gt;  9:            1              1
#&gt; 10:            1              1
#&gt; 11:            1              1
#&gt; 12:            1              1
#&gt; 13:            3              1
#&gt; 14:            3              1
#&gt; 15:            3              1
#&gt; 16:            3              1
#&gt; 17:            3              1
#&gt; 18:            3              1
#&gt; 19:            3              1
#&gt; 20:            3              1
#&gt; 21:            3              1
#&gt; 22:            3              1
#&gt; 23:            3              1
#&gt; 24:            3              1
#&gt; 25:            3              1
#&gt; 26:            3              1
#&gt; 27:            3              1
#&gt; 28:            1              1
#&gt; 29:            1              1
#&gt; 30:            1              1
#&gt; 31:            1              1
#&gt; 32:            1              1
#&gt; 33:            1              1
#&gt; 34:            1              1
#&gt; 35:            1              1
#&gt; 36:            1              1
#&gt; 37:            1              1
#&gt; 38:            1              1
#&gt; 39:            1              1
#&gt; 40:            1              1
#&gt; 41:            1              1
#&gt; 42:            1              1
#&gt; 43:            1              1
#&gt; 44:            3              1
#&gt; 45:            3              1
#&gt; 46:            3              1
#&gt; 47:            3              1
#&gt; 48:            3              1
#&gt; 49:            3              1
#&gt; 50:            1              1
#&gt; 51:            1              1
#&gt; 52:            1              1
#&gt; 53:            1              1
#&gt; 54:            1              1
#&gt; 55:            1              1
#&gt; 56:            1              1
#&gt; 57:            1              1
#&gt; 58:            1              1
#&gt; 59:            1              1
#&gt; 60:            4              1
#&gt; 61:            4              1
#&gt; 62:            4              1
#&gt; 63:            4              1
#&gt; 64:            4              1
#&gt; 65:            4              1
#&gt;     overall.rank each.sign.rank
library(data.table)
## try() to avoid CRAN error &#39;from&#39; must be a finite number, on
## https://www.stats.ox.ac.uk/pub/bdr/Rblas/README.txt, due to
## https://github.com/r-lib/scales/issues/307
try(if(require(ggplot2)){
  hline.df &lt;- with(atime.list, data.frame(seconds.limit, unit=&quot;seconds&quot;))
  gg &lt;- ggplot()+
    theme_bw()+
    facet_grid(unit ~ ., scales=&quot;free&quot;)+
    geom_line(aes(
      N, reference, group=paste(expr.name, fun.name)),
      color=&quot;grey&quot;,
      data=ref.dt)+
    geom_hline(aes(
      yintercept=seconds.limit),
      color=&quot;grey&quot;,
      data=hline.df)+
    geom_line(aes(
      N, empirical, color=expr.name),
      data=best.list$measurements)+
    geom_ribbon(aes(
      N, ymin=min, ymax=max, fill=expr.name),
      data=best.list$measurements[unit==&quot;seconds&quot;],
      alpha=0.5)+
    scale_x_log10()+
    scale_y_log10(&quot;median line, min/max band&quot;)+
    coord_cartesian(xlim=c(1,1e7))
  if(require(&quot;directlabels&quot;)){
    gg+
      theme(legend.position=&quot;none&quot;)+
      directlabels::geom_dl(aes(
        N, empirical, color=expr.name, label=expr.name),
        data=best.list$meas,
        method=&quot;last.polygons&quot;)+
      directlabels::geom_dl(aes(
        N, reference, label.group=paste(expr.name, fun.name), label=fun.name),
        data=ref.dt,
        color=&quot;grey&quot;,
        method=&quot;bottom.polygons&quot;)
  }else{
    gg
  }
})
#&gt; Warning: Transformation introduced infinite values in continuous y-axis
#&gt; Transformation introduced infinite values in continuous y-axis
</code></pre>

<p><img src="data:image/png;base64,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" alt="plot of chunk unnamed-chunk-2"/></p>

<p>The plots above show significant speed differences between the two
implementations of cumulative median. It is clear from the different
asymptotic slopes that the empirical timings are consistent with the
expected complexity, O(N log N) for binsegRcpp, and O(N<sup>2</sup> log N) for
cumstats. The code below shows that the results of the two
implementations are identical.</p>

<pre><code class="r">result.wide &lt;- dcast(atime.list$meas, N ~ expr.name, value.var=&quot;result&quot;)
result.complete &lt;- result.wide[sapply(`cumstats::cummedian`, length) == N]
result.complete[, identical(`binsegRcpp::cum_median`,`cumstats::cummedian`)]
#&gt; [1] TRUE
</code></pre>

<p>Conclusion: <code>binsegRcpp::cum_median</code> should be the preferred method
for computing the cumulative median because it is much faster.</p>

</body>

</html>
